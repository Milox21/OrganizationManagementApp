@page "/"
@using OMPMobileApp.Services
@inject AuthorizationService AuthorizationService
@inject NavigationManager Navigation

<div class="navmenu-container">
    <div class="greeting-tile">
        <div class="navmenu-greeting">
            Hello, @AuthorizationService.userDTO.Name @AuthorizationService.userDTO.Surname
        </div>
    </div>
    <NavLink class="tile" href="calendar">
        <span class="material-icons">calendar_today</span>
        <div>Calendar</div>
    </NavLink>
    <NavLink class="tile" href="notifications">
        <span class="material-icons">notifications</span>
        <div>Notifications</div>
    </NavLink>
    <NavLink class="tile" href="tasks">
        <span class="material-icons">task_alt</span>
        <div>Tasks</div>
    </NavLink>
</div>

<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
    }

    .navmenu-container {
        background-color: white;
        height: 100vh;
        width: 100vw;
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr 1fr;
        gap: 2px;
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        overflow: hidden;
    }

    .greeting-tile {
        background-color: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-align: center;
    }

    .navmenu-greeting {
        font-size: 1.2rem;
        font-weight: bold;
        color: #333;
    }

    .tile {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #0078D7;
        color: white;
        text-decoration: none;
        font-size: 1rem;
        transition: background-color 0.2s, transform 0.2s;
        padding: 20px;
    }

        .tile:hover {
            background-color: #005fa3;
            transform: scale(1.02);
        }

        .tile .material-icons {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .tile .material-icons {
            font-size: 36px;
            margin-bottom: 8px;
        }

    .tile {
        font-size: 0.9rem;
    }

    
</style>

@code {
    private async Task OnLogoff()
    {
        await AuthorizationService.Logoff();
        Navigation.NavigateTo("/", forceLoad: true); 
    }
}